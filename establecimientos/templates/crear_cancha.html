{% extends 'base.html' %}
{% load static %}

{% block title %}Crear Cancha - SportsNet{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" href="{% static 'crear_cancha.css' %}">
{% endblock %}

{% block content %}
<div class="cancha-container">
  <div class="cancha-box">
    
    {% if user.is_authenticated %}
      <h2 class="cancha-title">Crear Nueva Cancha</h2>
      
      {% if messages %}
        {% for message in messages %}
          <div class="{% if message.tags %}{{ message.tags }}{% endif %}-message">
            {{ message }}
          </div>
        {% endfor %}
      {% endif %}

      <form method="POST" class="cancha-form" novalidate>
        {% csrf_token %}

        <div class="form-group">
          <label for="{{ form.nombre.id_for_label }}">{{ form.nombre.label }}</label>
          {{ form.nombre }}
          {% if form.nombre.help_text %}
            <span class="helptext">{{ form.nombre.help_text }}</span>
          {% endif %}
          {% if form.nombre.errors %}
            <ul class="errorlist">
              {% for error in form.nombre.errors %}
                <li>{{ error }}</li>
              {% endfor %}
            </ul>
          {% endif %}
        </div>

        <div class="form-grid-2">
          <div class="form-group">
            <label for="{{ form.deporte.id_for_label }}">{{ form.deporte.label }}</label>
            {{ form.deporte }}
            {% if form.deporte.errors %}
              <ul class="errorlist">
                {% for error in form.deporte.errors %}
                  <li>{{ error }}</li>
                {% endfor %}
              </ul>
            {% endif %}
          </div>

          <div class="form-group">
            <label for="{{ form.superficie.id_for_label }}">{{ form.superficie.label }}</label>
            {{ form.superficie }}
            {% if form.superficie.errors %}
              <ul class="errorlist">
                {% for error in form.superficie.errors %}
                  <li>{{ error }}</li>
                {% endfor %}
              </ul>
            {% endif %}
          </div>
        </div>

        <div class="form-group">
          <label for="{{ form.iluminacion.id_for_label }}">{{ form.iluminacion.label }}</label>
          {{ form.iluminacion }}
          {% if form.iluminacion.help_text %}
            <span class="helptext">{{ form.iluminacion.help_text }}</span>
          {% endif %}
          {% if form.iluminacion.errors %}
            <ul class="errorlist">
              {% for error in form.iluminacion.errors %}
                <li>{{ error }}</li>
              {% endfor %}
            </ul>
          {% endif %}
        </div>

        <div class="form-group">
          <label for="{{ form.valor_por_bloque.id_for_label }}">{{ form.valor_por_bloque.label }}</label>
          {{ form.valor_por_bloque }}
          {% if form.valor_por_bloque.help_text %}
            <span class="helptext">{{ form.valor_por_bloque.help_text }}</span>
          {% endif %}
          {% if form.valor_por_bloque.errors %}
            <ul class="errorlist">
              {% for error in form.valor_por_bloque.errors %}
                <li>{{ error }}</li>
              {% endfor %}
            </ul>
          {% endif %}
        </div>
        <div class="caracteristicas-section">
            <div class="checkbox-group">
            <input 
              type="checkbox" 
              id="{{ form.interior.id_for_label }}" 
              name="interior"
              {% if form.interior.value %}checked{% endif %}
            >
            <label for="{{ form.interior.id_for_label }}">{{ form.interior.label }}</label>
            {% if form.interior.errors %}
              <ul class="errorlist">
                {% for error in form.interior.errors %}
                  <li>{{ error }}</li>
                {% endfor %}
              </ul>
            {% endif %}
          </div>

        </div>
        

        

        <button type="submit" class="cancha-button">Crear Cancha</button>
      </form>

      <p class="cancha-text">
        <a href="{% url 'establecimientos:ver_establecimiento' establecimiento_id %}">Volver al establecimiento</a>
      </p>

    {% else %}
      <h3 class="cancha-title">Acceso Denegado</h3>
      <p class="cancha-text">
        <a href="{% url 'cuentas:login_cuenta' %}">Debes iniciar sesion como dueno para crear canchas.</a>
      </p>
    {% endif %}

  </div>
</div>

{% endblock %}