{% extends 'base.html' %}
{% load static %}

{% block title %}Crear Establecimiento - SportsNet{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" href="{% static 'crear.css' %}">
{% endblock %}

{% block content %}

<div class="establecimiento-container">
  <h1 class="titulo">Crear Establecimiento</h1>


  <form method="POST" novalidate>
    {% csrf_token %}

    <div class="form-wrapper">
      
      <!-- form establecimiento -->
      <div class="form-column">
        <h2 class="section-titulo">Datos Establecimiento</h2>

        <div class="form-group">
          <label for="{{ form.nombre.id_for_label }}">{{ form.nombre.label }}</label>
          {{ form.nombre }}
          {% if form.nombre.errors %}<span class="error">{{ form.nombre.errors.0 }}</span>{% endif %}
        </div>

        <div class="form-group">
          <label for="{{ form.direccion.id_for_label }}">{{ form.direccion.label }}</label>
          {{ form.direccion }}
          {% if form.direccion.errors %}<span class="error">{{ form.direccion.errors.0 }}</span>{% endif %}
        </div>

        <div class="form-group">
          <label for="{{ form.telefono_contacto.id_for_label }}">{{ form.telefono_contacto.label }}</label>
          {{ form.telefono_contacto }}
          {% if form.telefono_contacto.errors %}<span class="error">{{ form.telefono_contacto.errors.0 }}</span>{% endif %}
        </div>

        <div class="form-group">
          <label for="{{ form.correo_contacto.id_for_label }}">{{ form.correo_contacto.label }}</label>
          {{ form.correo_contacto }}
          {% if form.correo_contacto.errors %}<span class="error">{{ form.correo_contacto.errors.0 }}</span>{% endif %}
        </div>

        <div class="checkbox-group">
          <input type="checkbox" id="{{ form.estacionamiento_disponible.id_for_label }}" 
                 name="estacionamiento_disponible" 
                 {% if form.estacionamiento_disponible.value %}checked{% endif %}>
          <label for="{{ form.estacionamiento_disponible.id_for_label }}">{{ form.estacionamiento_disponible.label }}</label>
        </div>

        <div class="checkbox-group">
          <input type="checkbox" id="{{ form.camarines_disponible.id_for_label }}" 
                 name="camarines_disponible"
                 {% if form.camarines_disponible.value %}checked{% endif %}>
          <label for="{{ form.camarines_disponible.id_for_label }}">{{ form.camarines_disponible.label }}</label>
        </div>
      </div>

      <!-- form horarios -->
      <div class="form-column">
        <h2 class="section-titulo">Horarios</h2>
        <p style="color: #9ca3af; margin-bottom: 1.25rem; font-size: 0.85rem;">
          Deja en blanco los dias cerrados, no repitas los dias.
        </p>

        <div class="horarios-container">
          {% for horario_form in formset %}
            <div class="horario-form ">
              
              <div class="horario-grid">

                <div class="form-group form-group-small">
                  <label for="{{ horario_form.dia.id_for_label }}">DÃ­a</label>
                  {{ horario_form.dia }}
                  {% if horario_form.dia.errors %}<span class="error">{{ horario_form.dia.errors.0 }}</span>{% endif %}
                </div>

                <div class="form-group form-group-small">
                  <label for="{{ horario_form.hora_apertura.id_for_label }}">Apertura</label>
                  {{ horario_form.hora_apertura }}
                  {% if horario_form.hora_apertura.errors %}<span class="error">{{ horario_form.hora_apertura.errors.0 }}</span>{% endif %}
                </div>

                <div class="form-group form-group-small">
                  <label for="{{ horario_form.hora_cierre.id_for_label }}">Cierre</label>
                  {{ horario_form.hora_cierre }}
                  {% if horario_form.hora_cierre.errors %}<span class="error">{{ horario_form.hora_cierre.errors.0 }}</span>{% endif %}
                </div>

                <div class="horario-delete">
                  {{ horario_form.DELETE }}
                  <label for="{{ horario_form.DELETE.id_for_label }}">X</label>
                </div>
              </div>

              <div class="formset-management">
                {{ horario_form.id }}
              </div>
            </div>
          {% endfor %}

          {{ formset.management_form }}
        </div>

        {% if formset.non_form_errors %}
          <div class="error-list">
            {% for error in formset.non_form_errors %}
              {{ error }}<br>
            {% endfor %}
          </div>
        {% endif %}
      </div>

    </div>

    <div class="botones-footer">
      <button type="submit" class="boton-crear">Crear Establecimiento</button>
      <div class="volver">
        <a href="{% url 'cuentas:SportsNet_dueno' %}">Cancelar</a>
      </div>
    </div>
  </form>

</div>

{% endblock %}